Ugly parts
==========

 * Boilerplate:
   * The `netpeer.go` generally has a lot of repeated code for implementing RPC methods, message handlers, deserialisation.
   *
